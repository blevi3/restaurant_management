{% extends 'base.html' %} {% load humanize %} 

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>

 
  </head>
  <body>
    {% block pagecontent %}
    <div class = "panel" style="border:none;background-color: transparent;">
    <div class = "panel-heading">
    <div class="pull-right">
      <span class="clickable filter" data-toggle="tooltip"  data-container="body">
        <i class="glyphicon glyphicon-filter" ></i>
      </span>
    </div>
    </div>
    <br>
    <div class="panel-body" >
      <input type="text" class="form-control" id="dev-table-filter" data-action="filter" data-filters="#tbl" placeholder="Filter Drinks" />
    </div>
  </div>
    <table class="table table-striped" id="tbl">
      <thead>
        <tr>
          <th>Drinks</th>
          <th>Price</th>
          <th></th>
          {% if request.user.is_staff %}
          <th>Modify</th>
          <th>Remove</th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% for item in item_list %}
          {% if not item.type %}
        <tr>
          <td id="tdName">{{ item.name }}</td>
          <td id="tdPrice">{{ item.price }}</td>
          <td><a href="{% url 'add_to_cart' item.id %}"><img src="static\pics\cart.png" alt="Add to cart" width="30" height="30"></a></td>
          {% if request.user.is_staff %}
          <td>
            <input type="hidden" id = "editdata" name="editdata" value="{{ item.id }}" />
            <button
              type="submit"
              class="btn btn-primary modify-button"
              id="modify-button"
            >
              Modify
            </button>
          </td>
          <td>
            <form method="post" class="form-inline">
              {% csrf_token %}
              <input type="hidden" name="remove" value="{{ item.id }}" />
              <button type="submit" class="btn  btn-danger" >Remove</button>
            </form>
          </td>
          {% endif %}
        </tr>
        {% endif %}
        {% endfor %}
      </tbody>
    </table>



    <div class = "panel" style="border:none;background-color: transparent;">
      <div class = "panel-heading">
      <div class="pull-right">
        <span class="clickable filter" data-toggle="tooltip"  data-container="body">
          <i class="glyphicon glyphicon-filter" ></i>
        </span>
      </div>
      </div>
      <br>
      <div class="panel-body" >
        <input type="text" class="form-control" id="dev-table-filter" data-action="filter" data-filters="#tbl2" placeholder="Filter Foods" />
      </div>
    </div>
    <table class="table table-striped" id="tbl2">
      <thead>
        <tr>
          <th>Foods</th>
          <th>Price</th>
          <th></th>
          {% if request.user.is_staff %}
          <th>Modify</th>
          <th>Remove</th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% for item in item_list %}
          {% if item.type %}
        <tr>
          <td id="tdName">{{ item.name }}</td>
          <td id="tdPrice">{{ item.price }}</td>
          <td><a href="{% url 'add_to_cart' item.id %}"><img src="static\pics\cart.png" alt="Add to cart" width="30" height="30"></a></td>
          {% if request.user.is_staff %}
          <td>
            <input type="hidden" id = "editdata" name="editdata" value="{{ item.id }}" />
            <button
              type="submit"
              class="btn btn-primary modify-button"
              id="modify-button"
            >
              Modify
            </button>
          </td>
          <td>
            <form method="post" class="form-inline">
              {% csrf_token %}
              <input type="hidden" name="remove" value="{{ item.id }}" />
              <button type="submit" class="btn  btn-danger" >Remove</button>
            </form>
            
          </td>
          {% endif %}
        </tr>
        {% endif %}
        {% endfor %}
      </tbody>
    </table>








    {% if request.user.is_staff %}
    <button class="btn btn-primary" type="submit" onclick="openForm('AddModal')">
      Add
    </button>



    <div class="modal" id="AddModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Add Item</h4>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              onclick="closeForm('AddModal')"
            >
              &times;
            </button>
          </div>

          <div class="modal-body">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" id = "AddItemID" name="AddItemID" />
              <div class="form-group">
                <label for="AddType">Type</label>
                <select
                  class="form-control"
                  id="AddType"
                  onchange="updateCategory('AddType', 'Addcategory')"
                  name = "type"
                >
                  <option>Food</option>
                  <option>Drink</option>
                </select>
              </div>
              <div class="form-group">
                <label for="Addcategory">Category</label>
                <select class="form-control" id="Addcategory" name = "category">
                  <option>Hamburger</option>
                  <option>Hot-Dog</option>
                </select>
              </div>
              <div class="form-group">
                <label for="name">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="Addname"
                  name="add"
                  placeholder="Enter name"
                />
              </div>

              <div class="form-group">
                <label for="price">Price</label>
                <input
                  type="text"
                  class="form-control"
                  id="Addprice"
                  name="price"
                  placeholder="Enter price"
                />
              </div>
            
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger close-btn"
              data-dismiss="modal"
              onclick="closeForm('AddModal')"
            >
              Close
            </button>
            <button type="submit" class="btn btn-success">Add</button>
            </form>
          </div>
        </div>
      </div>
    </div>



    <div class="modal" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Modify Item</h4>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              onclick="closeForm('myModal')"
            >
              &times;
            </button>
          </div>

          <div class="modal-body">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" id = "editItemID" name="editItemID" />
              

              <div class="form-group">
                <label for="name">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="edit"
                  placeholder="Enter name"
                />
              </div>

              <div class="form-group">
                <label for="price">Price</label>
                <input
                  type="text"
                  class="form-control"
                  id="price"
                  name="price"
                  placeholder="Enter price"

                />
              </div>
            
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger close-btn"
              data-dismiss="modal"
              onclick="closeForm('myModal')"
            >
              Close
            </button>
            <button type="submit" class="btn btn-success">Save</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>

    </script>
    {% endif %} {% endblock %}
    
  </body>
</html>

